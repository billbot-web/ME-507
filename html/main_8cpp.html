<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sport Trackr Design Review: src/main.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Sport Trackr Design Review<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">A sophisticated dual-axis motor control system that automatically tracks LED targets using computer vision feedback. The system combines real-time image processing, inertial measurement, and PID control to enable autonomous tracking or manual teleoperation via a web interface.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('main_8cpp.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">main.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Main application entry point for ESP32 camera-guided pan-tilt tracking system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;Arduino.h&gt;</code><br />
<code>#include &lt;cstdint&gt;</code><br />
<code>#include &quot;<a class="el" href="_d_r_v883_8h_source.html">hardware/DRV883.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_motor_task_8h_source.html">tasks/MotorTask.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_encoder_8h_source.html">hardware/Encoder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_encoder_task_8h_source.html">tasks/EncoderTask.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_u_i_task_8h_source.html">tasks/UITask.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_i_m_u___t_a_s_k_8h_source.html">tasks/IMU_Task.h</a>&quot;</code><br />
<code>#include &lt;Wire.h&gt;</code><br />
<code>#include &quot;<a class="el" href="_adafruit___b_n_o055_8h_source.html">hardware/Adafruit_BNO055.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_camera_task_8h_source.html">tasks/CameraTask.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_controller_task_8h_source.html">tasks/ControllerTask.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_o_v5640__camera_8h_source.html">hardware/OV5640_camera.h</a>&quot;</code><br />
<code>#include &quot;freertos/FreeRTOS.h&quot;</code><br />
<code>#include &quot;freertos/task.h&quot;</code><br />
<code>#include &quot;freertos/queue.h&quot;</code><br />
<code>#include &quot;taskshare.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4f5313f502282fbcfd79f30302a3c82b" id="r_a4f5313f502282fbcfd79f30302a3c82b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f5313f502282fbcfd79f30302a3c82b">PanIN1</a>&#160;&#160;&#160;GPIO_NUM_2</td></tr>
<tr class="memitem:ad46c6e4ac5145a2506b854c28c625aa3" id="r_ad46c6e4ac5145a2506b854c28c625aa3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad46c6e4ac5145a2506b854c28c625aa3">PanIN2</a>&#160;&#160;&#160;GPIO_NUM_5</td></tr>
<tr class="memitem:a774a219393764de432dda837a163ca48" id="r_a774a219393764de432dda837a163ca48"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a774a219393764de432dda837a163ca48">nSLP_PIN</a>&#160;&#160;&#160;GPIO_NUM_13</td></tr>
<tr class="memitem:a807a9e87c5be79125356eef1028e785d" id="r_a807a9e87c5be79125356eef1028e785d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a807a9e87c5be79125356eef1028e785d">TiltENCODER_A_GPIO</a>&#160;&#160;&#160;GPIO_NUM_14</td></tr>
<tr class="memitem:ada9b39849b57a988ff22ec9550a1769d" id="r_ada9b39849b57a988ff22ec9550a1769d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada9b39849b57a988ff22ec9550a1769d">TiltENCODER_B_GPIO</a>&#160;&#160;&#160;GPIO_NUM_19</td></tr>
<tr class="memitem:a1f1ad57f1c6023f908eb9446b759205a" id="r_a1f1ad57f1c6023f908eb9446b759205a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f1ad57f1c6023f908eb9446b759205a">TiltENCODER_UNIT</a>&#160;&#160;&#160;PCNT_UNIT_0</td></tr>
<tr class="memitem:a8e5bb8b9c5447a5a1636521c1eee0247" id="r_a8e5bb8b9c5447a5a1636521c1eee0247"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8e5bb8b9c5447a5a1636521c1eee0247">TiltIN1</a>&#160;&#160;&#160;GPIO_NUM_18</td></tr>
<tr class="memitem:ad6a84ed2a08e70da7d9adda71470ead4" id="r_ad6a84ed2a08e70da7d9adda71470ead4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6a84ed2a08e70da7d9adda71470ead4">TiltIN2</a>&#160;&#160;&#160;GPIO_NUM_23</td></tr>
<tr class="memitem:abdc6a0c3b4366410882e9b2728609e5a" id="r_abdc6a0c3b4366410882e9b2728609e5a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abdc6a0c3b4366410882e9b2728609e5a">PanENCODER_A_GPIO</a>&#160;&#160;&#160;GPIO_NUM_3</td></tr>
<tr class="memitem:a4d0ee5bdfb147d04624ac2d8aefbff46" id="r_a4d0ee5bdfb147d04624ac2d8aefbff46"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d0ee5bdfb147d04624ac2d8aefbff46">PanENCODER_B_GPIO</a>&#160;&#160;&#160;GPIO_NUM_1</td></tr>
<tr class="memitem:a039cf14d1dd6ffcb54227fda70d740a6" id="r_a039cf14d1dd6ffcb54227fda70d740a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a039cf14d1dd6ffcb54227fda70d740a6">PanENCODER_UNIT</a>&#160;&#160;&#160;PCNT_UNIT_1</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a47703f0cbab9e92ed10160ce53f4f96d" id="r_a47703f0cbab9e92ed10160ce53f4f96d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a47703f0cbab9e92ed10160ce53f4f96d">ui_task_func</a> (void *arg)</td></tr>
<tr class="memitem:af5729a7ef453042a1e3635e886a73167" id="r_af5729a7ef453042a1e3635e886a73167"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5729a7ef453042a1e3635e886a73167">imu_task_func</a> (void *arg)</td></tr>
<tr class="memdesc:af5729a7ef453042a1e3635e886a73167"><td class="mdescLeft">&#160;</td><td class="mdescRight">FreeRTOS task entry point for IMU data acquisition.  <br /></td></tr>
<tr class="memitem:a666b8f7e8309abb257c178d08fdaec1c" id="r_a666b8f7e8309abb257c178d08fdaec1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a666b8f7e8309abb257c178d08fdaec1c">controller_task_func</a> (void *arg)</td></tr>
<tr class="memdesc:a666b8f7e8309abb257c178d08fdaec1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">FreeRTOS task entry; repeatedly calls update() at configured period.  <br /></td></tr>
<tr class="memitem:aa4f3a74fdc57aa9bd8666a9a682e75cd" id="r_aa4f3a74fdc57aa9bd8666a9a682e75cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa4f3a74fdc57aa9bd8666a9a682e75cd">camera_task_func</a> (void *arg)</td></tr>
<tr class="memdesc:aa4f3a74fdc57aa9bd8666a9a682e75cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">FreeRTOS task entry point for camera vision processing.  <br /></td></tr>
<tr class="memitem:afc9c2cf42049d569d15d14db75a3e661" id="r_afc9c2cf42049d569d15d14db75a3e661"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc9c2cf42049d569d15d14db75a3e661">tilt_motor_task_func</a> (void *arg)</td></tr>
<tr class="memdesc:afc9c2cf42049d569d15d14db75a3e661"><td class="mdescLeft">&#160;</td><td class="mdescRight">FreeRTOS task entry point for tilt motor control.  <br /></td></tr>
<tr class="memitem:a302862cb5caa69a143d50001e12ef2a4" id="r_a302862cb5caa69a143d50001e12ef2a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a302862cb5caa69a143d50001e12ef2a4">pan_motor_task_func</a> (void *arg)</td></tr>
<tr class="memdesc:a302862cb5caa69a143d50001e12ef2a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">FreeRTOS task entry point for pan motor control.  <br /></td></tr>
<tr class="memitem:a772e97ad5fae7403b411a5522fed540c" id="r_a772e97ad5fae7403b411a5522fed540c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a772e97ad5fae7403b411a5522fed540c">tilt_encoder_task_func</a> (void *arg)</td></tr>
<tr class="memdesc:a772e97ad5fae7403b411a5522fed540c"><td class="mdescLeft">&#160;</td><td class="mdescRight">FreeRTOS task entry point for tilt encoder monitoring.  <br /></td></tr>
<tr class="memitem:a0189909595ebf63214312f1e6fb9abea" id="r_a0189909595ebf63214312f1e6fb9abea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0189909595ebf63214312f1e6fb9abea">pan_encoder_task_func</a> (void *arg)</td></tr>
<tr class="memdesc:a0189909595ebf63214312f1e6fb9abea"><td class="mdescLeft">&#160;</td><td class="mdescRight">FreeRTOS task entry point for pan encoder monitoring.  <br /></td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d" id="r_a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4fc01d736fe50cf5b977f755b675f11d">setup</a> ()</td></tr>
<tr class="memdesc:a4fc01d736fe50cf5b977f755b675f11d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arduino <a class="el" href="#a4fc01d736fe50cf5b977f755b675f11d" title="Arduino setup() - System initialization and FreeRTOS task creation.">setup()</a> - System initialization and FreeRTOS task creation.  <br /></td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f" id="r_afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe461d27b9c48d5921c00d521181f12f">loop</a> ()</td></tr>
<tr class="memdesc:afe461d27b9c48d5921c00d521181f12f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arduino <a class="el" href="#afe461d27b9c48d5921c00d521181f12f" title="Arduino loop() - Idle function for FreeRTOS operation.">loop()</a> - Idle function for FreeRTOS operation.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a75f0a8d83ec4ecf50ce67b9df42431e7" id="r_a75f0a8d83ec4ecf50ce67b9df42431e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_v5640_camera.html">OV5640Camera</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a75f0a8d83ec4ecf50ce67b9df42431e7">camera</a> = <a class="el" href="class_o_v5640_camera.html">OV5640Camera</a>(760)</td></tr>
<tr class="memitem:a000b34f09d3812c2177cbbc34e41bddc" id="r_a000b34f09d3812c2177cbbc34e41bddc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_d_r_v883.html">DRV883</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a000b34f09d3812c2177cbbc34e41bddc">panmotor</a> (<a class="el" href="#a4f5313f502282fbcfd79f30302a3c82b">PanIN1</a>, <a class="el" href="#ad46c6e4ac5145a2506b854c28c625aa3">PanIN2</a>, 0, 1)</td></tr>
<tr class="memitem:a8782c85d1bc81cddd908140fa492fbe6" id="r_a8782c85d1bc81cddd908140fa492fbe6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_encoder.html">Encoder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8782c85d1bc81cddd908140fa492fbe6">panencoder</a> (<a class="el" href="#abdc6a0c3b4366410882e9b2728609e5a">PanENCODER_A_GPIO</a>, <a class="el" href="#a4d0ee5bdfb147d04624ac2d8aefbff46">PanENCODER_B_GPIO</a>, <a class="el" href="#a039cf14d1dd6ffcb54227fda70d740a6">PanENCODER_UNIT</a>)</td></tr>
<tr class="memitem:ae8dcde356db462b2a7c48185714cf52c" id="r_ae8dcde356db462b2a7c48185714cf52c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_d_r_v883.html">DRV883</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae8dcde356db462b2a7c48185714cf52c">tiltmotor</a> (<a class="el" href="#a8e5bb8b9c5447a5a1636521c1eee0247">TiltIN1</a>, <a class="el" href="#ad6a84ed2a08e70da7d9adda71470ead4">TiltIN2</a>, 2, 3)</td></tr>
<tr class="memitem:ab54cdca66fa3cc7eb57b1edd9e77a716" id="r_ab54cdca66fa3cc7eb57b1edd9e77a716"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_encoder.html">Encoder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab54cdca66fa3cc7eb57b1edd9e77a716">tiltencoder</a> (<a class="el" href="#a807a9e87c5be79125356eef1028e785d">TiltENCODER_A_GPIO</a>, <a class="el" href="#ada9b39849b57a988ff22ec9550a1769d">TiltENCODER_B_GPIO</a>, <a class="el" href="#a1f1ad57f1c6023f908eb9446b759205a">TiltENCODER_UNIT</a>)</td></tr>
<tr class="memitem:aa5098f58d7b46d0b1449973242d4fe60" id="r_aa5098f58d7b46d0b1449973242d4fe60"><td class="memItemLeft" align="right" valign="top">TwoWire&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa5098f58d7b46d0b1449973242d4fe60">I2C</a> = TwoWire(0)</td></tr>
<tr class="memitem:a52dc7a530bd2ac368f726eac25d55494" id="r_a52dc7a530bd2ac368f726eac25d55494"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_adafruit___b_n_o055.html">Adafruit_BNO055</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52dc7a530bd2ac368f726eac25d55494">bno055_sensor</a> = <a class="el" href="class_adafruit___b_n_o055.html">Adafruit_BNO055</a>(1234, 0x28, &amp;<a class="el" href="#aa5098f58d7b46d0b1449973242d4fe60">I2C</a>)</td></tr>
<tr class="memitem:ae3eba6e3647d2c7fcdc8b9048469268f" id="r_ae3eba6e3647d2c7fcdc8b9048469268f"><td class="memItemLeft" align="right" valign="top">Share&lt; int16_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3eba6e3647d2c7fcdc8b9048469268f">pan_err</a> {&quot;pan_err&quot;}</td></tr>
<tr class="memitem:a1f089d0053c4e4c30975796ecede8618" id="r_a1f089d0053c4e4c30975796ecede8618"><td class="memItemLeft" align="right" valign="top">Share&lt; int16_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f089d0053c4e4c30975796ecede8618">tilt_err</a> {&quot;tilt_err&quot;}</td></tr>
<tr class="memitem:a875d2c5c4866849a876579d2c92d5c6e" id="r_a875d2c5c4866849a876579d2c92d5c6e"><td class="memItemLeft" align="right" valign="top">Share&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a875d2c5c4866849a876579d2c92d5c6e">hasLed</a> {&quot;hasLed&quot;}</td></tr>
<tr class="memitem:ad269aac01e7c58c2bfc634fbef929289" id="r_ad269aac01e7c58c2bfc634fbef929289"><td class="memItemLeft" align="right" valign="top">Share&lt; uint16_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad269aac01e7c58c2bfc634fbef929289">ledThreshold</a> {&quot;ledThreshold&quot;}</td></tr>
<tr class="memitem:a721f332798069cf7abda5b39364ba45a" id="r_a721f332798069cf7abda5b39364ba45a"><td class="memItemLeft" align="right" valign="top">Share&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a721f332798069cf7abda5b39364ba45a">cam_Mode</a> {&quot;camMode&quot;}</td></tr>
<tr class="memitem:a1c51aaca3189ef0686fe5a8dffce1a99" id="r_a1c51aaca3189ef0686fe5a8dffce1a99"><td class="memItemLeft" align="right" valign="top">Share&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c51aaca3189ef0686fe5a8dffce1a99">UI_mode</a> {&quot;UI_mode&quot;}</td></tr>
<tr class="memitem:a8a05a0fb1f3d54da915fe436864de249" id="r_a8a05a0fb1f3d54da915fe436864de249"><td class="memItemLeft" align="right" valign="top">Share&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a05a0fb1f3d54da915fe436864de249">dcalibrate</a> {&quot;dcalibrate&quot;}</td></tr>
<tr class="memitem:a5d636c57d472db8f6188090ac3b20f79" id="r_a5d636c57d472db8f6188090ac3b20f79"><td class="memItemLeft" align="right" valign="top">Share&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5d636c57d472db8f6188090ac3b20f79">tilt_encPosition</a> {&quot;tiltenc_pos&quot;}</td></tr>
<tr class="memitem:ad6e508aaf5760993011a095c6fe4bb5c" id="r_ad6e508aaf5760993011a095c6fe4bb5c"><td class="memItemLeft" align="right" valign="top">Share&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6e508aaf5760993011a095c6fe4bb5c">tilt_encVelocity</a> {&quot;tiltenc_vel&quot;}</td></tr>
<tr class="memitem:abac84b503e5384bc907d1ebe03b84639" id="r_abac84b503e5384bc907d1ebe03b84639"><td class="memItemLeft" align="right" valign="top">Share&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abac84b503e5384bc907d1ebe03b84639">pan_encPosition</a> {&quot;panenc_pos&quot;}</td></tr>
<tr class="memitem:a37117fd09522ec77568fc16714c6bd45" id="r_a37117fd09522ec77568fc16714c6bd45"><td class="memItemLeft" align="right" valign="top">Share&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a37117fd09522ec77568fc16714c6bd45">pan_encVelocity</a> {&quot;panenc_vel&quot;}</td></tr>
<tr class="memitem:a96b1d304ef59f992b9c7f26d345bd3bd" id="r_a96b1d304ef59f992b9c7f26d345bd3bd"><td class="memItemLeft" align="right" valign="top">Share&lt; int8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96b1d304ef59f992b9c7f26d345bd3bd">tilt_vref</a> {&quot;tiltvref&quot;}</td></tr>
<tr class="memitem:a2c11930701703706b683072d5f5b7f34" id="r_a2c11930701703706b683072d5f5b7f34"><td class="memItemLeft" align="right" valign="top">Share&lt; int16_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c11930701703706b683072d5f5b7f34">tilt_posref</a> {&quot;tiltposref&quot;}</td></tr>
<tr class="memitem:a22f65a631b2d8634743b796fe8177a85" id="r_a22f65a631b2d8634743b796fe8177a85"><td class="memItemLeft" align="right" valign="top">Share&lt; int8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a22f65a631b2d8634743b796fe8177a85">pan_vref</a> {&quot;panvref&quot;}</td></tr>
<tr class="memitem:a7ed3ad0733ad4ecedf22eb04235e7505" id="r_a7ed3ad0733ad4ecedf22eb04235e7505"><td class="memItemLeft" align="right" valign="top">Share&lt; int16_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ed3ad0733ad4ecedf22eb04235e7505">pan_posref</a> {&quot;panposref&quot;}</td></tr>
<tr class="memitem:a9a053dffceaa3d3bbddb421847244cd4" id="r_a9a053dffceaa3d3bbddb421847244cd4"><td class="memItemLeft" align="right" valign="top">Share&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a053dffceaa3d3bbddb421847244cd4">tilt_Cmd</a> {&quot;tiltenc_cmd&quot;}</td></tr>
<tr class="memitem:a5256688222b72b10ffdfe995f734004f" id="r_a5256688222b72b10ffdfe995f734004f"><td class="memItemLeft" align="right" valign="top">Share&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5256688222b72b10ffdfe995f734004f">pan_Cmd</a> {&quot;panenc_cmd&quot;}</td></tr>
<tr class="memitem:a0c7f093b10e321a361eb12f2bbc5092c" id="r_a0c7f093b10e321a361eb12f2bbc5092c"><td class="memItemLeft" align="right" valign="top">Share&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c7f093b10e321a361eb12f2bbc5092c">tilt_encZero</a> {&quot;tiltenc_zero&quot;}</td></tr>
<tr class="memitem:ac1a325967c4f5dce4f46a77267befb72" id="r_ac1a325967c4f5dce4f46a77267befb72"><td class="memItemLeft" align="right" valign="top">Share&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1a325967c4f5dce4f46a77267befb72">pan_encZero</a> {&quot;panenc_zero&quot;}</td></tr>
<tr class="memitem:a14bf215e19290b734fc9afcc52d93fc8" id="r_a14bf215e19290b734fc9afcc52d93fc8"><td class="memItemLeft" align="right" valign="top">Share&lt; int8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a14bf215e19290b734fc9afcc52d93fc8">dpad_pan</a> {&quot;dpad_pan&quot;}</td></tr>
<tr class="memitem:a9afeb6d51496f00818021a457cc17ac6" id="r_a9afeb6d51496f00818021a457cc17ac6"><td class="memItemLeft" align="right" valign="top">Share&lt; int8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9afeb6d51496f00818021a457cc17ac6">dpad_tilt</a> {&quot;dpad_tilt&quot;}</td></tr>
<tr class="memitem:a937afed701c3b444b9fbe0355529bbd7" id="r_a937afed701c3b444b9fbe0355529bbd7"><td class="memItemLeft" align="right" valign="top">Share&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a937afed701c3b444b9fbe0355529bbd7">motortest_mode</a> {&quot;motortest_mode&quot;}</td></tr>
<tr class="memitem:ab1874b468c8f4403be5bde3cc31d1c2d" id="r_ab1874b468c8f4403be5bde3cc31d1c2d"><td class="memItemLeft" align="right" valign="top">Share&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab1874b468c8f4403be5bde3cc31d1c2d">imu_mode</a> {&quot;imu_mode&quot;}</td></tr>
<tr class="memitem:a748452dadde96ed3e8b07ad6b0679d3e" id="r_a748452dadde96ed3e8b07ad6b0679d3e"><td class="memItemLeft" align="right" valign="top">Share&lt; <a class="el" href="struct_euler_angles.html">EulerAngles</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a748452dadde96ed3e8b07ad6b0679d3e">g_eulerAngles</a> {&quot;euler_angles&quot;}</td></tr>
<tr class="memitem:ab7de3ec279bd1180c7916cc9165d7911" id="r_ab7de3ec279bd1180c7916cc9165d7911"><td class="memItemLeft" align="right" valign="top">Share&lt; <a class="el" href="struct_gyro_data.html">GyroData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab7de3ec279bd1180c7916cc9165d7911">g_gyroData</a> {&quot;gyro_data&quot;}</td></tr>
<tr class="memitem:af1b1e21003ea927a861341c110222121" id="r_af1b1e21003ea927a861341c110222121"><td class="memItemLeft" align="right" valign="top">Share&lt; <a class="el" href="struct_accel_data.html">AccelData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1b1e21003ea927a861341c110222121">g_accelData</a> {&quot;accel_data&quot;}</td></tr>
<tr class="memitem:ab5a6f98a1d4dbdc85049552816acaa4e" id="r_ab5a6f98a1d4dbdc85049552816acaa4e"><td class="memItemLeft" align="right" valign="top">PID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab5a6f98a1d4dbdc85049552816acaa4e">tilt_velocity_pid</a></td></tr>
<tr class="memitem:a8b499b7c99aaca60891b650d6bd0c809" id="r_a8b499b7c99aaca60891b650d6bd0c809"><td class="memItemLeft" align="right" valign="top">PID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b499b7c99aaca60891b650d6bd0c809">tilt_position_pid</a></td></tr>
<tr class="memitem:ad114459ce51573253fd6e470f90b2aec" id="r_ad114459ce51573253fd6e470f90b2aec"><td class="memItemLeft" align="right" valign="top">PID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad114459ce51573253fd6e470f90b2aec">pan_velocity_pid</a></td></tr>
<tr class="memitem:af9936e6055a9cb1a04edf4a69ae076a4" id="r_af9936e6055a9cb1a04edf4a69ae076a4"><td class="memItemLeft" align="right" valign="top">PID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af9936e6055a9cb1a04edf4a69ae076a4">pan_position_pid</a></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main application entry point for ESP32 camera-guided pan-tilt tracking system. </p>
<p>This file implements a sophisticated multi-axis tracking system combining computer vision, inertial measurement, and PID motor control. The system can automatically track LED targets using camera feedback, provide manual teleoperation via web interface, and stream real-time telemetry data including motor positions, IMU orientation, and tracking errors.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9"></a>
System Architecture:</h2>
<p>The system uses FreeRTOS multitasking to coordinate seven concurrent tasks:</p>
<ol type="1">
<li><b><a class="el" href="class_motor_task.html" title="Multi-mode motor control task with velocity, position, and camera-based servoing.">MotorTask</a> (Tilt &amp; Pan)</b>: Multi-mode motor control (velocity, position, camera-based)</li>
<li><b><a class="el" href="class_encoder_task.html" title="High-frequency encoder monitoring with FSM control and velocity estimation.">EncoderTask</a> (Tilt &amp; Pan)</b>: High-frequency position/velocity measurement via PCNT</li>
<li><b><a class="el" href="class_controller_task.html">ControllerTask</a></b>: Top-level <a class="el" href="class_f_s_m.html">FSM</a> coordinating tracking modes and state transitions</li>
<li><b><a class="el" href="class_camera_task.html" title="Real-time LED detection and visual servoing error computation.">CameraTask</a></b>: LED detection and visual servoing error computation</li>
<li><b><a class="el" href="class_i_m_u_task.html" title="Continuous IMU sensor data acquisition task with FSM control.">IMUTask</a></b>: BNO055 9-DOF orientation and motion sensing</li>
<li><b><a class="el" href="class_u_i_task.html" title="UI task with web server, WebSocket, and serial interface.">UITask</a></b>: Web server, WebSocket telemetry, and command interface</li>
</ol>
<h2 class="doxsection"><a class="anchor" id="autotoc_md10"></a>
Hardware Components:</h2>
<ul>
<li>ESP32-WROVER microcontroller (dual-core, WiFi, 8MB PSRAM)</li>
<li>2× DRV8833 dual H-bridge motor drivers</li>
<li>2× DC motors with 70:1 gearboxes</li>
<li>2× Quadrature encoders (64 CPR)</li>
<li>OV5640 camera module (5MP, autofocus)</li>
<li>BNO055 9-DOF IMU (accelerometer, gyroscope, magnetometer)</li>
<li>Pan-tilt mechanical platform</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md11"></a>
Control Modes:</h2>
<ul>
<li><b>TRACKER</b>: Automatic LED tracking using camera feedback</li>
<li><b>TELEOP</b>: Manual control via web UI D-pad</li>
<li><b>MOTOR_TEST</b>: Open-loop motor testing for diagnostics</li>
<li><b>CALIBRATE</b>: <a class="el" href="class_encoder.html" title="ESP32 PCNT-based quadrature encoder reader (X4), matching a MicroPython-style API.">Encoder</a> homing and calibration sequence</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md12"></a>
PID Tuning Guide:</h2>
<p>Four independent PID controllers are available for tuning:</p>
<ol type="1">
<li><b>tilt_velocity_pid</b> - Tilt axis velocity control<ul>
<li>Current: Kp=0.10, Ki=0.0, Kd=0.0</li>
<li>Tuning: Increase Kp for faster velocity response, add Ki to eliminate steady-state error</li>
</ul>
</li>
<li><b>tilt_position_pid</b> - Tilt axis position control <br  />
<ul>
<li>Current: Kp=0.080, Ki=0.0005, Kd=0.0</li>
<li>Tuning: Increase Kp for stiffer position hold, add Kd to reduce overshoot</li>
</ul>
</li>
<li><b>pan_velocity_pid</b> - Pan axis velocity control<ul>
<li>Current: Kp=0.10, Ki=0.0, Kd=0.0</li>
<li>Tuning: Adjust independently from tilt due to different mechanical characteristics</li>
</ul>
</li>
<li><b>pan_position_pid</b> - Pan axis position control<ul>
<li>Current: Kp=0.080, Ki=0.0005, Kd=0.0</li>
<li>Tuning: May need different gains than tilt due to gravity effects</li>
</ul>
</li>
</ol>
<p>To adjust gains, modify the Init() calls in <a class="el" href="#a4fc01d736fe50cf5b977f755b675f11d" title="Arduino setup() - System initialization and FreeRTOS task creation.">setup()</a>: </p><div class="fragment"><div class="line"><a class="code hl_variable" href="#ab5a6f98a1d4dbdc85049552816acaa4e">tilt_velocity_pid</a>.Init(Kp, Ki, Kd);</div>
<div class="ttc" id="amain_8cpp_html_ab5a6f98a1d4dbdc85049552816acaa4e"><div class="ttname"><a href="#ab5a6f98a1d4dbdc85049552816acaa4e">tilt_velocity_pid</a></div><div class="ttdeci">PID tilt_velocity_pid</div><div class="ttdef"><b>Definition</b> main.cpp:303</div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md13"></a>
Network Configuration:</h2>
<ul>
<li>WiFi SSID/Password configured in <a class="el" href="_u_i_task_8cpp.html">UITask.cpp</a></li>
<li>Web interface accessible at: <a href="http://">http://</a>&lt;ESP32_IP_ADDRESS&gt;</li>
<li>WebSocket telemetry on same port as HTTP server</li>
<li>Serial debug output at 115200 baud</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md14"></a>
Pin Assignments:</h2>
<p>See hardware configuration section in <a class="el" href="#a4fc01d736fe50cf5b977f755b675f11d" title="Arduino setup() - System initialization and FreeRTOS task creation.">setup()</a> for complete GPIO mapping:</p><ul>
<li>Motors: GPIO pins for DRV8833 IN1/IN2</li>
<li>Encoders: GPIO pins for Phase A/B quadrature signals</li>
<li>Camera: SPIO interface to OV5640</li>
<li>IMU: I2C interface to BNO055</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>Motor Control Development Team </dd></dl>
<dl class="section date"><dt>Date</dt><dd>December 2025 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>2.7</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_motor_task_8h.html" title="FreeRTOS task for comprehensive motor control with PID velocity and position control.">MotorTask.h</a> for motor control implementation </dd>
<dd>
<a class="el" href="_camera_task_8h.html" title="Computer vision task for LED detection and tracking error computation.">CameraTask.h</a> for computer vision details </dd>
<dd>
<a class="el" href="_controller_task_8h.html" title="High-level FSM controller for camera-based tracking and manual control modes.">ControllerTask.h</a> for <a class="el" href="class_f_s_m.html">FSM</a> state descriptions </dd></dl>
</div><a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="a774a219393764de432dda837a163ca48" name="a774a219393764de432dda837a163ca48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a774a219393764de432dda837a163ca48">&#9670;&#160;</a></span>nSLP_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define nSLP_PIN&#160;&#160;&#160;GPIO_NUM_13</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abdc6a0c3b4366410882e9b2728609e5a" name="abdc6a0c3b4366410882e9b2728609e5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdc6a0c3b4366410882e9b2728609e5a">&#9670;&#160;</a></span>PanENCODER_A_GPIO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PanENCODER_A_GPIO&#160;&#160;&#160;GPIO_NUM_3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4d0ee5bdfb147d04624ac2d8aefbff46" name="a4d0ee5bdfb147d04624ac2d8aefbff46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d0ee5bdfb147d04624ac2d8aefbff46">&#9670;&#160;</a></span>PanENCODER_B_GPIO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PanENCODER_B_GPIO&#160;&#160;&#160;GPIO_NUM_1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a039cf14d1dd6ffcb54227fda70d740a6" name="a039cf14d1dd6ffcb54227fda70d740a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a039cf14d1dd6ffcb54227fda70d740a6">&#9670;&#160;</a></span>PanENCODER_UNIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PanENCODER_UNIT&#160;&#160;&#160;PCNT_UNIT_1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4f5313f502282fbcfd79f30302a3c82b" name="a4f5313f502282fbcfd79f30302a3c82b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f5313f502282fbcfd79f30302a3c82b">&#9670;&#160;</a></span>PanIN1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PanIN1&#160;&#160;&#160;GPIO_NUM_2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad46c6e4ac5145a2506b854c28c625aa3" name="ad46c6e4ac5145a2506b854c28c625aa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad46c6e4ac5145a2506b854c28c625aa3">&#9670;&#160;</a></span>PanIN2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PanIN2&#160;&#160;&#160;GPIO_NUM_5</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a807a9e87c5be79125356eef1028e785d" name="a807a9e87c5be79125356eef1028e785d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a807a9e87c5be79125356eef1028e785d">&#9670;&#160;</a></span>TiltENCODER_A_GPIO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TiltENCODER_A_GPIO&#160;&#160;&#160;GPIO_NUM_14</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ada9b39849b57a988ff22ec9550a1769d" name="ada9b39849b57a988ff22ec9550a1769d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada9b39849b57a988ff22ec9550a1769d">&#9670;&#160;</a></span>TiltENCODER_B_GPIO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TiltENCODER_B_GPIO&#160;&#160;&#160;GPIO_NUM_19</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1f1ad57f1c6023f908eb9446b759205a" name="a1f1ad57f1c6023f908eb9446b759205a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f1ad57f1c6023f908eb9446b759205a">&#9670;&#160;</a></span>TiltENCODER_UNIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TiltENCODER_UNIT&#160;&#160;&#160;PCNT_UNIT_0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8e5bb8b9c5447a5a1636521c1eee0247" name="a8e5bb8b9c5447a5a1636521c1eee0247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e5bb8b9c5447a5a1636521c1eee0247">&#9670;&#160;</a></span>TiltIN1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TiltIN1&#160;&#160;&#160;GPIO_NUM_18</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad6a84ed2a08e70da7d9adda71470ead4" name="ad6a84ed2a08e70da7d9adda71470ead4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6a84ed2a08e70da7d9adda71470ead4">&#9670;&#160;</a></span>TiltIN2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TiltIN2&#160;&#160;&#160;GPIO_NUM_23</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="aa4f3a74fdc57aa9bd8666a9a682e75cd" name="aa4f3a74fdc57aa9bd8666a9a682e75cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4f3a74fdc57aa9bd8666a9a682e75cd">&#9670;&#160;</a></span>camera_task_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void camera_task_func </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>arg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FreeRTOS task entry point for camera vision processing. </p>
<p>C-style function required by xTaskCreate(). Creates an infinite loop that periodically calls the camera task's update() method to execute the <a class="el" href="class_f_s_m.html">FSM</a>.</p>
<p>Task Loop:</p><ol type="1">
<li>Call update() to execute current <a class="el" href="class_f_s_m.html">FSM</a> state</li>
<li>Delay for 10ms (100Hz maximum frame rate)</li>
<li>Repeat indefinitely</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>Pointer to <a class="el" href="class_camera_task.html" title="Real-time LED detection and visual servoing error computation.">CameraTask</a> object (cast from void*)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Fixed 10ms delay provides ~100Hz maximum frame rate </dd>
<dd>
Actual frame rate depends on camera capture time and processing </dd>
<dd>
Task never exits - runs for lifetime of system </dd></dl>

</div>
</div>
<a id="a666b8f7e8309abb257c178d08fdaec1c" name="a666b8f7e8309abb257c178d08fdaec1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a666b8f7e8309abb257c178d08fdaec1c">&#9670;&#160;</a></span>controller_task_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void controller_task_func </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>arg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FreeRTOS task entry; repeatedly calls update() at configured period. </p>

</div>
</div>
<a id="af5729a7ef453042a1e3635e886a73167" name="af5729a7ef453042a1e3635e886a73167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5729a7ef453042a1e3635e886a73167">&#9670;&#160;</a></span>imu_task_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void imu_task_func </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>pvParameters</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FreeRTOS task entry point for IMU data acquisition. </p>
<p>C-style function required by xTaskCreate(). Creates an infinite loop that periodically calls the IMU task's update() method to execute the <a class="el" href="class_f_s_m.html">FSM</a>.</p>
<p>Task Loop:</p><ol type="1">
<li>Set static instance pointer for callback access</li>
<li>Call update() to execute current <a class="el" href="class_f_s_m.html">FSM</a> state</li>
<li>Delay for configured sample interval</li>
<li>Repeat indefinitely</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pvParameters</td><td>Pointer to <a class="el" href="class_i_m_u_task.html" title="Continuous IMU sensor data acquisition task with FSM control.">IMUTask</a> object (cast from void*)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Delay duration matches updateMs_ from <a class="el" href="class_i_m_u_task.html" title="Continuous IMU sensor data acquisition task with FSM control.">IMUTask</a> configuration </dd>
<dd>
Task never exits - runs for lifetime of system </dd></dl>

</div>
</div>
<a id="afe461d27b9c48d5921c00d521181f12f" name="afe461d27b9c48d5921c00d521181f12f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe461d27b9c48d5921c00d521181f12f">&#9670;&#160;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loop </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Arduino <a class="el" href="#afe461d27b9c48d5921c00d521181f12f" title="Arduino loop() - Idle function for FreeRTOS operation.">loop()</a> - Idle function for FreeRTOS operation. </p>
<p>In a FreeRTOS-based system, the Arduino <a class="el" href="#afe461d27b9c48d5921c00d521181f12f" title="Arduino loop() - Idle function for FreeRTOS operation.">loop()</a> function is not used for main program logic. All application code runs in FreeRTOS tasks created in <a class="el" href="#a4fc01d736fe50cf5b977f755b675f11d" title="Arduino setup() - System initialization and FreeRTOS task creation.">setup()</a>. The <a class="el" href="#afe461d27b9c48d5921c00d521181f12f" title="Arduino loop() - Idle function for FreeRTOS operation.">loop()</a> function simply delays indefinitely to prevent watchdog timer resets.</p>
<p>Task Execution:</p><ul>
<li>All seven tasks run concurrently under FreeRTOS scheduler</li>
<li>Task priorities determine execution order when multiple tasks ready</li>
<li>vTaskDelay() in each task yields CPU to other tasks</li>
<li>FreeRTOS idle task runs when no other tasks ready (manages power)</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This function runs on ESP32 core 1 (setup/loop core) </dd>
<dd>
FreeRTOS scheduler manages all task execution timing </dd>
<dd>
Infinite delay prevents watchdog timer from triggering </dd>
<dd>
To modify system behavior, edit task code, not <a class="el" href="#afe461d27b9c48d5921c00d521181f12f" title="Arduino loop() - Idle function for FreeRTOS operation.">loop()</a> </dd></dl>

</div>
</div>
<a id="a0189909595ebf63214312f1e6fb9abea" name="a0189909595ebf63214312f1e6fb9abea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0189909595ebf63214312f1e6fb9abea">&#9670;&#160;</a></span>pan_encoder_task_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pan_encoder_task_func </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>arg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FreeRTOS task entry point for pan encoder monitoring. </p>
<p>High-frequency task for pan axis encoder position and velocity measurement. Operates independently from tilt encoder to provide concurrent feedback for both axes without static instance conflicts.</p>
<p>Task Configuration:</p><ul>
<li>Update rate: 10ms (100Hz)</li>
<li>Priority: Typically higher than motor tasks for accurate feedback</li>
<li>Stack size: Configured in task creation</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>Pointer to pan <a class="el" href="class_encoder_task.html" title="High-frequency encoder monitoring with FSM control and velocity estimation.">EncoderTask</a> object (cast from void*)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Matches tilt encoder update rate for consistent control behavior </dd>
<dd>
Separate task function prevents static instance pointer conflicts </dd></dl>

</div>
</div>
<a id="a302862cb5caa69a143d50001e12ef2a4" name="a302862cb5caa69a143d50001e12ef2a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a302862cb5caa69a143d50001e12ef2a4">&#9670;&#160;</a></span>pan_motor_task_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pan_motor_task_func </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>arg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FreeRTOS task entry point for pan motor control. </p>
<p>Dedicated task function for pan axis motor control, independent from tilt axis. Maintains separate static instance context to prevent conflicts during concurrent execution of both motor control tasks.</p>
<p>Task Configuration:</p><ul>
<li>Update rate: 50ms (20Hz)</li>
<li>Priority: Set during xTaskCreate() call</li>
<li>Stack size: Configured in task creation</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>Pointer to pan <a class="el" href="class_motor_task.html" title="Multi-mode motor control task with velocity, position, and camera-based servoing.">MotorTask</a> object (cast from void*)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Must be separate from tilt_motor_task_func due to static instance pattern </dd>
<dd>
Both motor tasks run concurrently without interference </dd></dl>

</div>
</div>
<a id="a4fc01d736fe50cf5b977f755b675f11d" name="a4fc01d736fe50cf5b977f755b675f11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc01d736fe50cf5b977f755b675f11d">&#9670;&#160;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Arduino <a class="el" href="#a4fc01d736fe50cf5b977f755b675f11d" title="Arduino setup() - System initialization and FreeRTOS task creation.">setup()</a> - System initialization and FreeRTOS task creation. </p>
<p>This function performs complete system initialization including hardware configuration, communication interface setup, PID controller tuning, and FreeRTOS task creation. All initialization must complete before tasks begin execution.</p>
<p>Initialization Sequence:</p><ol type="1">
<li>Initialize all Share&lt;T&gt; objects to safe default values</li>
<li>Configure serial communication (115200 baud)</li>
<li>Connect telemetry queues between tasks</li>
<li>Initialize I2C bus for IMU communication</li>
<li>Initialize BNO055 IMU sensor and load calibration</li>
<li>Initialize OV5640 camera module</li>
<li>Enable motor drivers (nSLP pin HIGH)</li>
<li>Configure PID controller gains for all four controllers</li>
<li>Initialize WiFi Access Point and web server</li>
<li>Create seven FreeRTOS tasks with appropriate priorities</li>
</ol>
<p>Task Priority Scheme:</p><ul>
<li>Priority 5: <a class="el" href="class_encoder.html" title="ESP32 PCNT-based quadrature encoder reader (X4), matching a MicroPython-style API.">Encoder</a> tasks (highest - critical for control feedback)</li>
<li>Priority 4: Camera task (high - visual servoing feedback)</li>
<li>Priority 3: Controller task (medium-high - coordination)</li>
<li>Priority 2: Motor tasks (medium - actuation)</li>
<li>Priority 1: UI task (low - telemetry and commands)</li>
<li>Priority 0: IMU task (lowest - supplementary data)</li>
</ul>
<p>Hardware Configuration:</p><ul>
<li>I2C Bus: GPIO21 (SDA), GPIO22 (SCL) for IMU</li>
<li>WiFi: Access Point mode "ESP32-MotorControl" / "motor123"</li>
<li>Motor Enable: GPIO13 (nSLP_PIN) set HIGH</li>
<li>Serial: 115200 baud for debug output</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>GPIO1 used by pan encoder (no USB Serial transmission) </dd>
<dd>
Camera/IMU failures logged but don't halt system startup </dd>
<dd>
All tasks start immediately after creation </dd>
<dd>
<a class="el" href="#a4fc01d736fe50cf5b977f755b675f11d" title="Arduino setup() - System initialization and FreeRTOS task creation.">setup()</a> runs once on ESP32 core 1 before scheduler starts </dd></dl>

</div>
</div>
<a id="a772e97ad5fae7403b411a5522fed540c" name="a772e97ad5fae7403b411a5522fed540c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a772e97ad5fae7403b411a5522fed540c">&#9670;&#160;</a></span>tilt_encoder_task_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tilt_encoder_task_func </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>arg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FreeRTOS task entry point for tilt encoder monitoring. </p>
<p>High-frequency task for tilt axis encoder position and velocity measurement. Runs at 100Hz to minimize control loop latency and ensure accurate velocity calculation via the <a class="el" href="class_encoder.html" title="ESP32 PCNT-based quadrature encoder reader (X4), matching a MicroPython-style API.">Encoder</a>'s sliding window algorithm.</p>
<p>Task Configuration:</p><ul>
<li>Update rate: 10ms (100Hz)</li>
<li>Priority: Typically higher than motor tasks for accurate feedback</li>
<li>Stack size: Configured in task creation</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>Pointer to tilt <a class="el" href="class_encoder_task.html" title="High-frequency encoder monitoring with FSM control and velocity estimation.">EncoderTask</a> object (cast from void*)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Fast update rate critical for control loop performance </dd>
<dd>
Separate from pan encoder to avoid instance conflicts </dd></dl>

</div>
</div>
<a id="afc9c2cf42049d569d15d14db75a3e661" name="afc9c2cf42049d569d15d14db75a3e661"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc9c2cf42049d569d15d14db75a3e661">&#9670;&#160;</a></span>tilt_motor_task_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tilt_motor_task_func </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>arg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FreeRTOS task entry point for tilt motor control. </p>
<p>Dedicated task function for tilt axis motor control to avoid static instance conflicts between pan and tilt <a class="el" href="class_motor_task.html" title="Multi-mode motor control task with velocity, position, and camera-based servoing.">MotorTask</a> objects. Sets the static instance pointer before each update to ensure correct object context.</p>
<p>Task Configuration:</p><ul>
<li>Update rate: 50ms (20Hz)</li>
<li>Priority: Set during xTaskCreate() call</li>
<li>Stack size: Configured in task creation</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>Pointer to tilt <a class="el" href="class_motor_task.html" title="Multi-mode motor control task with velocity, position, and camera-based servoing.">MotorTask</a> object (cast from void*)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Separate task functions required because <a class="el" href="class_motor_task.html" title="Multi-mode motor control task with velocity, position, and camera-based servoing.">MotorTask</a> uses static instance pattern </dd>
<dd>
Instance pointer set before each update() call for correct <a class="el" href="class_f_s_m.html">FSM</a> execution </dd></dl>

</div>
</div>
<a id="a47703f0cbab9e92ed10160ce53f4f96d" name="a47703f0cbab9e92ed10160ce53f4f96d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47703f0cbab9e92ed10160ce53f4f96d">&#9670;&#160;</a></span>ui_task_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_task_func </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>arg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="a52dc7a530bd2ac368f726eac25d55494" name="a52dc7a530bd2ac368f726eac25d55494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52dc7a530bd2ac368f726eac25d55494">&#9670;&#160;</a></span>bno055_sensor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_m_u_task.html">IMUTask</a> imuTask &amp; bno055_sensor = <a class="el" href="class_adafruit___b_n_o055.html">Adafruit_BNO055</a>(1234, 0x28, &amp;<a class="el" href="#aa5098f58d7b46d0b1449973242d4fe60">I2C</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a721f332798069cf7abda5b39364ba45a" name="a721f332798069cf7abda5b39364ba45a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a721f332798069cf7abda5b39364ba45a">&#9670;&#160;</a></span>cam_Mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;uint8_t&gt; cam_Mode {&quot;camMode&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a75f0a8d83ec4ecf50ce67b9df42431e7" name="a75f0a8d83ec4ecf50ce67b9df42431e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75f0a8d83ec4ecf50ce67b9df42431e7">&#9670;&#160;</a></span>camera</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_camera_task.html">CameraTask</a> cameraTask &amp; camera = <a class="el" href="class_o_v5640_camera.html">OV5640Camera</a>(760)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8a05a0fb1f3d54da915fe436864de249" name="a8a05a0fb1f3d54da915fe436864de249"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a05a0fb1f3d54da915fe436864de249">&#9670;&#160;</a></span>dcalibrate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;bool&gt; dcalibrate {&quot;dcalibrate&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a14bf215e19290b734fc9afcc52d93fc8" name="a14bf215e19290b734fc9afcc52d93fc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14bf215e19290b734fc9afcc52d93fc8">&#9670;&#160;</a></span>dpad_pan</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;int8_t&gt; dpad_pan {&quot;dpad_pan&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9afeb6d51496f00818021a457cc17ac6" name="a9afeb6d51496f00818021a457cc17ac6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9afeb6d51496f00818021a457cc17ac6">&#9670;&#160;</a></span>dpad_tilt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;int8_t&gt; dpad_tilt {&quot;dpad_tilt&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af1b1e21003ea927a861341c110222121" name="af1b1e21003ea927a861341c110222121"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1b1e21003ea927a861341c110222121">&#9670;&#160;</a></span>g_accelData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;<a class="el" href="struct_accel_data.html">AccelData</a>&gt; g_accelData {&quot;accel_data&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a748452dadde96ed3e8b07ad6b0679d3e" name="a748452dadde96ed3e8b07ad6b0679d3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a748452dadde96ed3e8b07ad6b0679d3e">&#9670;&#160;</a></span>g_eulerAngles</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;<a class="el" href="struct_euler_angles.html">EulerAngles</a>&gt; g_eulerAngles {&quot;euler_angles&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab7de3ec279bd1180c7916cc9165d7911" name="ab7de3ec279bd1180c7916cc9165d7911"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7de3ec279bd1180c7916cc9165d7911">&#9670;&#160;</a></span>g_gyroData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;<a class="el" href="struct_gyro_data.html">GyroData</a>&gt; g_gyroData {&quot;gyro_data&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a875d2c5c4866849a876579d2c92d5c6e" name="a875d2c5c4866849a876579d2c92d5c6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a875d2c5c4866849a876579d2c92d5c6e">&#9670;&#160;</a></span>hasLed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;bool&gt; hasLed {&quot;hasLed&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa5098f58d7b46d0b1449973242d4fe60" name="aa5098f58d7b46d0b1449973242d4fe60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5098f58d7b46d0b1449973242d4fe60">&#9670;&#160;</a></span>I2C</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TwoWire I2C = TwoWire(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab1874b468c8f4403be5bde3cc31d1c2d" name="ab1874b468c8f4403be5bde3cc31d1c2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1874b468c8f4403be5bde3cc31d1c2d">&#9670;&#160;</a></span>imu_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;bool&gt; imu_mode {&quot;imu_mode&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad269aac01e7c58c2bfc634fbef929289" name="ad269aac01e7c58c2bfc634fbef929289"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad269aac01e7c58c2bfc634fbef929289">&#9670;&#160;</a></span>ledThreshold</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;uint16_t&gt; ledThreshold {&quot;ledThreshold&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a937afed701c3b444b9fbe0355529bbd7" name="a937afed701c3b444b9fbe0355529bbd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a937afed701c3b444b9fbe0355529bbd7">&#9670;&#160;</a></span>motortest_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;bool&gt; motortest_mode {&quot;motortest_mode&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5256688222b72b10ffdfe995f734004f" name="a5256688222b72b10ffdfe995f734004f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5256688222b72b10ffdfe995f734004f">&#9670;&#160;</a></span>pan_Cmd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;uint8_t&gt; pan_Cmd {&quot;panenc_cmd&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abac84b503e5384bc907d1ebe03b84639" name="abac84b503e5384bc907d1ebe03b84639"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abac84b503e5384bc907d1ebe03b84639">&#9670;&#160;</a></span>pan_encPosition</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;float&gt; pan_encPosition {&quot;panenc_pos&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a37117fd09522ec77568fc16714c6bd45" name="a37117fd09522ec77568fc16714c6bd45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37117fd09522ec77568fc16714c6bd45">&#9670;&#160;</a></span>pan_encVelocity</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;float&gt; pan_encVelocity {&quot;panenc_vel&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac1a325967c4f5dce4f46a77267befb72" name="ac1a325967c4f5dce4f46a77267befb72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1a325967c4f5dce4f46a77267befb72">&#9670;&#160;</a></span>pan_encZero</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;bool&gt; pan_encZero {&quot;panenc_zero&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae3eba6e3647d2c7fcdc8b9048469268f" name="ae3eba6e3647d2c7fcdc8b9048469268f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3eba6e3647d2c7fcdc8b9048469268f">&#9670;&#160;</a></span>pan_err</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_controller_task.html">ControllerTask</a> controllerTask &amp; pan_err {&quot;pan_err&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af9936e6055a9cb1a04edf4a69ae076a4" name="af9936e6055a9cb1a04edf4a69ae076a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9936e6055a9cb1a04edf4a69ae076a4">&#9670;&#160;</a></span>pan_position_pid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PID pan_position_pid</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7ed3ad0733ad4ecedf22eb04235e7505" name="a7ed3ad0733ad4ecedf22eb04235e7505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ed3ad0733ad4ecedf22eb04235e7505">&#9670;&#160;</a></span>pan_posref</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;int16_t&gt; pan_posref {&quot;panposref&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad114459ce51573253fd6e470f90b2aec" name="ad114459ce51573253fd6e470f90b2aec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad114459ce51573253fd6e470f90b2aec">&#9670;&#160;</a></span>pan_velocity_pid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PID pan_velocity_pid</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a22f65a631b2d8634743b796fe8177a85" name="a22f65a631b2d8634743b796fe8177a85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22f65a631b2d8634743b796fe8177a85">&#9670;&#160;</a></span>pan_vref</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;int8_t&gt; pan_vref {&quot;panvref&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8782c85d1bc81cddd908140fa492fbe6" name="a8782c85d1bc81cddd908140fa492fbe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8782c85d1bc81cddd908140fa492fbe6">&#9670;&#160;</a></span>panencoder</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_encoder_task.html">EncoderTask</a> panencoderTask &amp; panencoder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abdc6a0c3b4366410882e9b2728609e5a">PanENCODER_A_GPIO</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a4d0ee5bdfb147d04624ac2d8aefbff46">PanENCODER_B_GPIO</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a039cf14d1dd6ffcb54227fda70d740a6">PanENCODER_UNIT</a></td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a000b34f09d3812c2177cbbc34e41bddc" name="a000b34f09d3812c2177cbbc34e41bddc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a000b34f09d3812c2177cbbc34e41bddc">&#9670;&#160;</a></span>panmotor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_motor_task.html">MotorTask</a> panmotorTask &amp; panmotor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a4f5313f502282fbcfd79f30302a3c82b">PanIN1</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ad46c6e4ac5145a2506b854c28c625aa3">PanIN2</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">1</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9a053dffceaa3d3bbddb421847244cd4" name="a9a053dffceaa3d3bbddb421847244cd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a053dffceaa3d3bbddb421847244cd4">&#9670;&#160;</a></span>tilt_Cmd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;uint8_t&gt; tilt_Cmd {&quot;tiltenc_cmd&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5d636c57d472db8f6188090ac3b20f79" name="a5d636c57d472db8f6188090ac3b20f79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d636c57d472db8f6188090ac3b20f79">&#9670;&#160;</a></span>tilt_encPosition</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_u_i_task.html">UITask</a> uiTask &amp; tilt_encPosition {&quot;tiltenc_pos&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad6e508aaf5760993011a095c6fe4bb5c" name="ad6e508aaf5760993011a095c6fe4bb5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6e508aaf5760993011a095c6fe4bb5c">&#9670;&#160;</a></span>tilt_encVelocity</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;float&gt; tilt_encVelocity {&quot;tiltenc_vel&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0c7f093b10e321a361eb12f2bbc5092c" name="a0c7f093b10e321a361eb12f2bbc5092c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c7f093b10e321a361eb12f2bbc5092c">&#9670;&#160;</a></span>tilt_encZero</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;bool&gt; tilt_encZero {&quot;tiltenc_zero&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1f089d0053c4e4c30975796ecede8618" name="a1f089d0053c4e4c30975796ecede8618"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f089d0053c4e4c30975796ecede8618">&#9670;&#160;</a></span>tilt_err</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;int16_t&gt; tilt_err {&quot;tilt_err&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8b499b7c99aaca60891b650d6bd0c809" name="a8b499b7c99aaca60891b650d6bd0c809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b499b7c99aaca60891b650d6bd0c809">&#9670;&#160;</a></span>tilt_position_pid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PID tilt_position_pid</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2c11930701703706b683072d5f5b7f34" name="a2c11930701703706b683072d5f5b7f34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c11930701703706b683072d5f5b7f34">&#9670;&#160;</a></span>tilt_posref</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;int16_t&gt; tilt_posref {&quot;tiltposref&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab5a6f98a1d4dbdc85049552816acaa4e" name="ab5a6f98a1d4dbdc85049552816acaa4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5a6f98a1d4dbdc85049552816acaa4e">&#9670;&#160;</a></span>tilt_velocity_pid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PID tilt_velocity_pid</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a96b1d304ef59f992b9c7f26d345bd3bd" name="a96b1d304ef59f992b9c7f26d345bd3bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96b1d304ef59f992b9c7f26d345bd3bd">&#9670;&#160;</a></span>tilt_vref</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;int8_t&gt; tilt_vref {&quot;tiltvref&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab54cdca66fa3cc7eb57b1edd9e77a716" name="ab54cdca66fa3cc7eb57b1edd9e77a716"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab54cdca66fa3cc7eb57b1edd9e77a716">&#9670;&#160;</a></span>tiltencoder</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_encoder_task.html">EncoderTask</a> tiltencoderTask &amp; tiltencoder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a807a9e87c5be79125356eef1028e785d">TiltENCODER_A_GPIO</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ada9b39849b57a988ff22ec9550a1769d">TiltENCODER_B_GPIO</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a1f1ad57f1c6023f908eb9446b759205a">TiltENCODER_UNIT</a></td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae8dcde356db462b2a7c48185714cf52c" name="ae8dcde356db462b2a7c48185714cf52c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8dcde356db462b2a7c48185714cf52c">&#9670;&#160;</a></span>tiltmotor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_motor_task.html">MotorTask</a> tiltmotorTask &amp; tiltmotor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a8e5bb8b9c5447a5a1636521c1eee0247">TiltIN1</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ad6a84ed2a08e70da7d9adda71470ead4">TiltIN2</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">2</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">3</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1c51aaca3189ef0686fe5a8dffce1a99" name="a1c51aaca3189ef0686fe5a8dffce1a99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c51aaca3189ef0686fe5a8dffce1a99">&#9670;&#160;</a></span>UI_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Share&lt;uint8_t&gt; UI_mode {&quot;UI_mode&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a href="main_8cpp.html">main.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
